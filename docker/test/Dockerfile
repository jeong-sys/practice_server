# FROM 인스트럭션 : 도커 이미지의 바탕이 될 베이스 이미지 지정 
# main.go 를 실행하기 위한 Go 언어의 런타임이 설치된 이미지 받아옴 
#   1.9 = 태그라고 하며 이미지 버전 등을 구별하는 식별자 
FROM golang:1.9

# RUN 인스트럭션 : 도커 이미지를 실행할 때 컨테이너 안에서 실행할 명령을 정의하는 인스트럭션 
# main.go 애플리케이션을 배치하기 위한 /echo 디렉터리 생성 
# 애플리케이션 업데이트 및 배치 
RUN mkdir /echo
# COPY 인스트럭션 : 도커가 동작 중인 호스트 머신의 파일이나 디렉터리를 도커 컨테이너 안으로 복사하는 인스트럭션 
COPY main.go /echo

# CMD 인스트럭션 : 도커 컨테이너를 실행할 때 컨테이너 안에서 실행할 프로세스 지정 
# 애플리케이션 자체를 실행하는 명령 
# = $ go run /echo/main.go 을 공백으로 나눔 
CMD ["go", "run", "/echo/main.go"]
